@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --cream: #fef3e2;
  --pink: #f8b4c4;
  --gold: #e8c547;
  --rose: #e8a0a8;
}

body {
  min-height: 100vh;
  overflow-x: hidden;
}

/* 蜡烛火焰闪烁（多段、左右晃动、发光） */
@keyframes flame-flicker {
  0% {
    transform: scale(1) scaleX(1) translateY(0) translateX(0) rotate(0deg);
    opacity: 1;
    box-shadow: 0 0 8px 2px rgba(251, 191, 36, 0.5);
  }
  25% {
    transform: scale(1.08) scaleX(1.05) translateY(-2px) translateX(1px) rotate(1deg);
    opacity: 0.98;
    box-shadow: 0 0 10px 3px rgba(251, 191, 36, 0.6);
  }
  50% {
    transform: scale(1.12) scaleX(0.95) translateY(-3px) translateX(-1px) rotate(-1deg);
    opacity: 0.95;
    box-shadow: 0 0 6px 2px rgba(251, 191, 36, 0.45);
  }
  75% {
    transform: scale(1.05) scaleX(1.1) translateY(-1px) translateX(-0.5px) rotate(0.5deg);
    opacity: 0.98;
    box-shadow: 0 0 9px 2px rgba(251, 191, 36, 0.55);
  }
  100% {
    transform: scale(1.1) scaleX(1) translateY(-2px) translateX(0.5px) rotate(-0.5deg);
    opacity: 1;
    box-shadow: 0 0 8px 2px rgba(251, 191, 36, 0.5);
  }
}

.flame {
  animation: flame-flicker 0.18s ease-in-out infinite;
  transform-origin: bottom center;
}

/* 吹灭：先缩小上飘再消失，每根蜡烛用 animation-delay 错开 */
@keyframes flame-blow-out {
  0% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
  25% {
    transform: scale(0.85) translateY(-4px);
    opacity: 0.9;
  }
  70% {
    transform: scale(0.4) translateY(-8px);
    opacity: 0.4;
  }
  100% {
    transform: scale(0) translateY(-10px);
    opacity: 0;
  }
}

.flame-out {
  animation: flame-blow-out 0.45s ease-out forwards;
  transform-origin: bottom center;
}

/* 吹灭后的轻烟 */
@keyframes smoke-wisp {
  0% {
    transform: scale(0.5) translateY(0);
    opacity: 0;
  }
  20% {
    opacity: 0.25;
  }
  100% {
    transform: scale(1.2) translateY(-12px);
    opacity: 0;
  }
}

.flame-smoke {
  animation: smoke-wisp 0.8s ease-out forwards;
  pointer-events: none;
}

/* 蛋糕奶油层高光 */
@keyframes cake-shine {
  0%, 100% {
    opacity: 0.4;
    background-position: 0% 50%;
  }
  50% {
    opacity: 0.7;
    background-position: 100% 50%;
  }
}

.cake-shine {
  background: linear-gradient(
    105deg,
    transparent 0%,
    rgba(255, 255, 255, 0.5) 45%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(255, 255, 255, 0.5) 55%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: cake-shine 4s ease-in-out infinite;
}

/* 蛋糕容器阴影轻微变化 */
@keyframes cake-shadow-pulse {
  0%, 100% {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(248, 180, 196, 0.2);
  }
  50% {
    box-shadow: 0 28px 56px -12px rgba(0, 0, 0, 0.14), 0 0 0 1px rgba(248, 180, 196, 0.25);
  }
}

.cake-shadow {
  animation: cake-shadow-pulse 3s ease-in-out infinite;
}

/* 流星雨 */
@keyframes shooting-star {
  0% {
    transform: rotate(-25deg) translateX(0) translateY(0);
    opacity: 0;
  }
  5% {
    opacity: 0.9;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    transform: rotate(-25deg) translate(60px, 120vh);
    opacity: 0;
  }
}

